<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Make It - Intro</title>
  <style>
    :root{
      --ease: cubic-bezier(.18,.8,.2,1);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      overflow:hidden;
      color:#fff;
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      /* 중앙을 훨씬 더 밝게 수정 (#e0e0e0 시작) */
      background:
        radial-gradient(1100px circle at 50% 45%, #e0e0e0 0%, #999999 20%, #444444 50%, #1a1a1a 85%, #000000 100%),
        linear-gradient(120deg, #ffffff18 0%, transparent 35%, #ffffff12 55%, transparent 75%, #ffffff18 100%);
      background-size: 100% 100%, 220% 220%;
      animation: bgFlow 8s linear infinite;
    }

    @keyframes bgFlow{
      0%{ background-position: 0 0, 0% 0%; }
      100%{ background-position: 0 0, 100% 100%; }
    }

    /* 마우스를 따라다니는 글리터 스파클 & 배경 부유 입자 캔버스 */
    #sparkCanvas{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:5;
      mix-blend-mode:screen;
    }

    /* --- 메탈릭 테두리 프레임 (New) --- */
    .metal-frame {
      position: fixed;
      inset: 20px;
      pointer-events: none;
      z-index: 50;
      /* 금속 질감의 테두리 그라디언트 */
      border: 4px solid transparent;
      border-image: linear-gradient(135deg, 
        #555 0%, 
        #ccc 20%, 
        #888 40%, 
        #fff 50%, 
        #888 60%, 
        #ccc 80%, 
        #555 100%
      ) 1;
      box-shadow: 
        inset 0 0 30px rgba(0,0,0,0.8),
        0 0 20px rgba(0,0,0,0.5);
    }

    /* 프레임 코너 장식 (더 기계적인 느낌) */
    .metal-frame::before, .metal-frame::after {
      content: "";
      position: absolute;
      width: 40px;
      height: 40px;
      border: 4px solid transparent;
      border-image: linear-gradient(135deg, #fff, #888) 1;
      z-index: 51;
      transition: all 0.5s ease;
    }
    
    /* 좌상단, 우하단 코너 */
    .metal-frame::before {
      top: -4px; left: -4px;
      border-right: none;
      border-bottom: none;
      border-image-slice: 1;
    }
    /* 우상단, 좌하단 코너를 위한 추가 요소 */
    .corner-deco {
      position: absolute;
      inset: -4px;
      pointer-events: none;
    }
    .corner-deco::before, .corner-deco::after {
      content: "";
      position: absolute;
      width: 40px;
      height: 40px;
      border: 4px solid transparent;
      border-image: linear-gradient(135deg, #fff, #888) 1;
    }
    .corner-deco::before {
      top: 0; right: 0;
      border-left: none;
      border-bottom: none;
    }
    .corner-deco::after {
      bottom: 0; left: 0;
      border-right: none;
      border-top: none;
    }
    .metal-frame::after {
      bottom: -4px; right: -4px;
      border-left: none;
      border-top: none;
      border-image-slice: 1;
    }

    /* 화면 스캔라인 효과 (밀도감 추가) */
    .scanlines {
      position: fixed;
      inset: 0;
      background: linear-gradient(
        to bottom,
        rgba(255,255,255,0),
        rgba(255,255,255,0) 50%,
        rgba(0,0,0,0.1) 50%,
        rgba(0,0,0,0.1)
      );
      background-size: 100% 4px;
      pointer-events: none;
      z-index: 4;
      opacity: 0.3;
    }

    .hero{
      position:relative;
      text-align:center;
      transform: translateY(-2vh); /* 화면 중앙보다 살짝 위 */
      z-index:10;
    }

    .hero-logo{
      position:relative;
      z-index:1;
      width: clamp(810px, 117vw, 1170px);
      height:auto;
      display:block;
      margin:0 auto 26px;
      filter: drop-shadow(0 18px 40px rgba(0,0,0,0.85));
    }


    .make-it{
      position:absolute;
      top:70%;
      left:50%;
      transform:translate(-50%, -50%);
      z-index:2;
      font-size: clamp(22px, 3vw, 30px);
      letter-spacing:0.18em;
      text-transform:uppercase;
      color:#ffffff;
      cursor:pointer;
      user-select:none;
      text-decoration:none;
      border:none;
      background:transparent;
      padding:8px 4px;
      transition:
        color 160ms ease,
        text-shadow 160ms ease,
        transform 160ms ease;
    }

    .make-it:hover{
      color:#ff1493;
      text-shadow:0 0 18px rgba(255,20,147,0.7);
    }

    .make-it:active{
      color:#c01270;
    }

    .make-it.is-clicking{
      color:#c01270;
      animation: makeClick 220ms var(--ease);
    }

    @keyframes makeClick{
      /* translate(-50%, -50%)를 유지해야 중앙 정렬이 깨지지 않음 */
      0%{ transform: translate(-50%, -50%) scale(1); }
      50%{ transform: translate(-50%, -50%) scale(0.93); }
      100%{ transform: translate(-50%, -50%) scale(1); }
    }

    @media (max-width: 520px){
      .hero-logo{
        margin-bottom:20px;
      }
      .make-it{
        letter-spacing:0.14em;
      }
      .metal-frame { inset: 10px; } /* 모바일에서 테두리 간격 축소 */
    }
  </style>
</head>
<body>
  <!-- 스캔라인 패턴 -->
  <div class="scanlines"></div>
  
  <!-- 메탈릭 테두리 프레임 -->
  <div class="metal-frame">
    <div class="corner-deco"></div>
  </div>

  <!-- 반짝이 효과 캔버스 -->
  <canvas id="sparkCanvas"></canvas>

  <div class="hero">
    <button class="make-it" id="makeItBtn">make it</button>
    <!-- gif -> png 로 수정 -->
    <img id="heroLogo" class="hero-logo" src="assets/logo/logo1.png" alt="Make It Logo" />
  </div>

  <script>
    // ----- 로고 10개 1초 로테이션 (gif -> png 수정) -----
    const logoPaths = Array.from({ length: 10 }, (_, i) => `assets/logo/logo${i+1}.png`);
    const heroLogo = document.getElementById("heroLogo");
    let logoIndex = 0;

    function rotateLogo(){
      logoIndex = (logoIndex + 1) % logoPaths.length;
      heroLogo.src = logoPaths[logoIndex];
    }

    setInterval(rotateLogo, 1000);

    // ----- make it 텍스트 클릭 애니메이션 및 페이지 이동 -----
    const makeItBtn = document.getElementById("makeItBtn");
    makeItBtn.addEventListener("click", () => {
      // 1. 애니메이션 클래스 재설정 (제자리 클릭 애니메이션)
      makeItBtn.classList.remove("is-clicking");
      void makeItBtn.offsetWidth; // 애니메이션 리셋용 강제 리플로우
      makeItBtn.classList.add("is-clicking");

      // 2. 애니메이션이 조금 진행된 후 페이지 이동 (300ms 딜레이)
      setTimeout(() => {
        window.location.href = "concept.html"; 
      }, 300);
    });

    // ----- Canvas Effect System -----
    const sparkCanvas = document.getElementById("sparkCanvas");
    const sctx = sparkCanvas.getContext("2d");
    
    // 1. Mouse Sparkle Trail (기존)
    let sparks = [];
    let mouseX = window.innerWidth / 2;
    let mouseY = window.innerHeight / 2;
    const maxSparks = 160;

    // 2. Background Floating Stars (추가됨)
    let bgStars = [];
    const bgStarCount = 50; // 넓은 간격을 위해 적당한 수

    function initBgStars() {
        bgStars = [];
        for(let i = 0; i < bgStarCount; i++){
            bgStars.push({
                x: Math.random() * window.innerWidth,
                y: Math.random() * window.innerHeight,
                size: Math.random() * 1.5 + 0.2, // 아주 작은 크기
                vx: (Math.random() - 0.5) * 0.3, // 매우 느린 속도
                vy: (Math.random() - 0.5) * 0.3,
                alpha: Math.random() * 0.6 + 0.2,
                alphaSpeed: (Math.random() * 0.01) + 0.002, // 깜빡임 속도
                direction: 1
            });
        }
    }

    function resizeSpark(){
      sparkCanvas.width  = window.innerWidth;
      sparkCanvas.height = window.innerHeight;
      initBgStars(); // 리사이즈 시 배경 별 재배치
    }
    resizeSpark();
    window.addEventListener("resize", resizeSpark);

    // Mouse Event
    window.addEventListener("mousemove", (e)=>{
      mouseX = e.clientX;
      mouseY = e.clientY;
      for(let i=0; i<6; i++){
        if(sparks.length > maxSparks) sparks.shift();
        const angle = Math.random() * Math.PI * 2;
        const speed = Math.random() * 0.6 + 0.15;
        sparks.push({
          x: mouseX + (Math.random()-0.5) * 12,
          y: mouseY + (Math.random()-0.5) * 12,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed,
          life: 1,
          decay: 0.02 + Math.random() * 0.03,
          size: Math.random() * 1.8 + 0.8,
          rot: Math.random() * Math.PI,
          rotSpeed: (Math.random() - 0.5) * 0.12
        });
      }
    });

    function drawSparks(){
      sctx.clearRect(0,0,sparkCanvas.width,sparkCanvas.height);

      // --- Draw Background Floating Stars ---
      for(let star of bgStars){
          // Move
          star.x += star.vx;
          star.y += star.vy;

          // Wrap around edges
          if(star.x < 0) star.x = sparkCanvas.width;
          if(star.x > sparkCanvas.width) star.x = 0;
          if(star.y < 0) star.y = sparkCanvas.height;
          if(star.y > sparkCanvas.height) star.y = 0;

          // Twinkle Alpha
          star.alpha += star.alphaSpeed * star.direction;
          if(star.alpha >= 0.8) {
              star.alpha = 0.8;
              star.direction = -1;
          } else if(star.alpha <= 0.2) {
              star.alpha = 0.2;
              star.direction = 1;
          }

          sctx.fillStyle = "rgba(255, 255, 255," + star.alpha + ")";
          sctx.beginPath();
          sctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
          sctx.fill();
      }

      // --- Draw Mouse Sparkles ---
      for(let i=0; i<sparks.length; i++){
        const p = sparks[i];
        p.x += p.vx;
        p.y += p.vy;
        p.life -= p.decay;
        p.rot += p.rotSpeed;
        if(p.life <= 0){
          sparks.splice(i,1);
          i--;
          continue;
        }
        const alpha = p.life;

        sctx.save();
        sctx.translate(p.x, p.y);
        sctx.rotate(p.rot);
        sctx.globalAlpha = alpha;
        sctx.lineWidth = 1;
        sctx.strokeStyle = "rgba(255,255,255," + alpha + ")";
        sctx.shadowBlur = 10;
        sctx.shadowColor = "rgba(255,255,255," + (0.7 * alpha) + ")";

        const s = p.size * 2.2;
        sctx.beginPath();
        sctx.moveTo(0, -s);
        sctx.lineTo(0, s);
        sctx.moveTo(-s, 0);
        sctx.lineTo(s, 0);
        sctx.stroke();

        sctx.fillStyle = "rgba(255,255,255," + alpha + ")";
        sctx.fillRect(-0.4, -0.4, 0.8, 0.8);

        sctx.restore();
      }
      requestAnimationFrame(drawSparks);
    }
    drawSparks();
  </script>
</body>
</html>